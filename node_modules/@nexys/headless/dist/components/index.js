import React from "react";
export const LoadDataAsync = (Spinner) => ({ Component, getData, ComponentOnFail }) => {
    const [data, setData] = React.useState(undefined);
    const [error, setError] = React.useState();
    if (error) {
        console.error("Data load failed", error);
        if (ComponentOnFail) {
            return React.createElement(ComponentOnFail, { error: error });
        }
        throw Error(error);
    }
    if (data === undefined) {
        getData()
            .then((data) => setData(data))
            .catch((err) => setError(err));
        return React.createElement(Spinner, null);
    }
    return React.createElement(Component, { data: data });
};
