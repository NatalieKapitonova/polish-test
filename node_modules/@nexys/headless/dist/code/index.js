// see https://github.com/nexys-system/tailwind-react-ui/blob/master/src/lib/business/snippet.tsx
import React from 'react';
import { truncateString } from './utils';
export var CopyState;
(function (CopyState) {
    CopyState[CopyState["idle"] = 1] = "idle";
    CopyState[CopyState["progress"] = 2] = "progress";
    CopyState[CopyState["copied"] = 3] = "copied";
})(CopyState || (CopyState = {}));
export const Statement = (Block) => ({ code, copyToClipboard = false, truncate }) => {
    //  const [truncateOverride, setTruncate] = React.useState<boolean>(false);
    const [copyState, setCopyState] = React.useState(CopyState.idle);
    const handleClick = async () => {
        setCopyState(CopyState.progress);
        await navigator.clipboard.writeText(code);
        setCopyState(CopyState.copied);
    };
    const c = truncate === undefined ? code : truncateString(code, truncate); //truncateOverride === true ||
    return (React.createElement(Block, { handleClick: handleClick, code: c, copyState: copyState, copyToClipboard: copyToClipboard }));
};
